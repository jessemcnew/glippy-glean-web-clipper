#!/usr/bin/env sh

# Linear SOT: Validate commit message format (warn if missing Linear reference)
# This hook warns but doesn't block commits - Linear is our source of truth

commit_msg=$(cat "$1")

# Check if commit message contains Linear issue reference [GLE-XXX]
if ! echo "$commit_msg" | grep -qE '\[GLE-[0-9]+\]'; then
  echo ""
  echo "⚠️  WARNING: Commit message doesn't reference a Linear issue [GLE-XXX]"
  echo "   Linear is our source of truth - consider adding an issue reference."
  echo "   Format: <type>(<scope>): <subject> [GLE-XXX]"
  echo "   See .github/COMMIT_CONVENTION.md for details"
  echo ""
  echo "   (This is just a warning - commit will proceed)"
  echo ""
fi

