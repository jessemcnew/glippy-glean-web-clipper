(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76828,e=>{"use strict";e.s(["Search",()=>t],76828);let t=(0,e.i(88935).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},85248,e=>{"use strict";async function t(){try{try{let e=localStorage.getItem("glean_clips");if(!e)return a();let t=JSON.parse(e);if(0===t.length)return a();return t.map(e=>{var t;return{id:e.id||Date.now()+Math.random(),type:e.type||(e.selectedText?"text":"image"),url:e.url||"",title:e.title||"Untitled Clip",date:(t=e.timestamp||e.date||Date.now(),new Date(t).toISOString().split("T")[0]),source:e.domain||e.source||"",selectedText:e.selectedText,domain:e.domain,timestamp:e.timestamp||new Date(e.date||Date.now()).getTime(),syncStatus:e.syncStatus||(e.synced?"synced":"pending"),collectionId:e.collectionId||e.gleanCollectionId,collectionName:e.collectionName}})}catch(e){return console.error("Failed to parse clips from localStorage:",e),a()}}catch(e){return console.error("Failed to fetch clips:",e),[]}}function a(){return[{id:"mock-1",type:"text",url:"https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering",title:"Prompt Engineering Guide - Anthropic",date:"2024-12-10",source:"docs.anthropic.com",selectedText:"Claude performs best with clear, specific instructions. Break complex tasks into steps and provide examples of desired output format.",domain:"docs.anthropic.com",timestamp:Date.now()-864e5,syncStatus:"synced",collectionName:"AI Resources"},{id:"mock-2",type:"text",url:"https://react.dev/learn/thinking-in-react",title:"Thinking in React",date:"2024-12-09",source:"react.dev",selectedText:"React changes how you think about designs and apps. When you build a UI with React, you first break it apart into pieces called components.",domain:"react.dev",timestamp:Date.now()-1728e5,syncStatus:"synced",collectionName:"Dev Docs"},{id:"mock-3",type:"text",url:"https://www.glean.com/blog/enterprise-search",title:"The Future of Enterprise Search",date:"2024-12-08",source:"glean.com",selectedText:"Enterprise search has evolved beyond keyword matching. Modern solutions use AI to understand context, user intent, and organizational knowledge graphs.",domain:"glean.com",timestamp:Date.now()-2592e5,syncStatus:"pending",collectionName:void 0},{id:"mock-4",type:"text",url:"https://tailwindcss.com/docs/customizing-colors",title:"Customizing Colors - Tailwind CSS",date:"2024-12-07",source:"tailwindcss.com",selectedText:"Tailwind includes an expertly-crafted default color palette out-of-the-box that is a great starting point.",domain:"tailwindcss.com",timestamp:Date.now()-3456e5,syncStatus:"synced",collectionName:"CSS"},{id:"mock-5",type:"text",url:"https://developer.chrome.com/docs/extensions",title:"Chrome Extensions Documentation",date:"2024-12-06",source:"developer.chrome.com",selectedText:"Extensions are small software programs that customize the browsing experience. They let users tailor Chrome functionality to individual needs.",domain:"developer.chrome.com",timestamp:Date.now()-432e6,syncStatus:"synced",collectionName:"Extension Dev"}]}async function s(e){try{var t=e;try{let e=localStorage.getItem("glean_clips");if(!e)return!1;let a=JSON.parse(e).filter(e=>String(e.id)!==String(t));return localStorage.setItem("glean_clips",JSON.stringify(a)),!0}catch(e){return console.error("Failed to delete clip from localStorage:",e),!1}}catch(e){return console.error("Failed to delete clip:",e),!1}}function n(e){if(e.url)window.open(e.url,"_blank");else if(e.selectedText){let t=new Blob([e.selectedText],{type:"text/plain"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="".concat(e.title||"clip",".txt"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}}e.s(["deleteClip",()=>s,"downloadClip",()=>n,"fetchClips",()=>t])},71253,e=>{"use strict";e.s(["ExternalLink",()=>t],71253);let t=(0,e.i(88935).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},1237,83782,16367,74542,e=>{"use strict";e.s(["default",()=>y],1237);var t=e.i(35197),a=e.i(58213),s=e.i(32192),n=e.i(83959);e.s(["Input",()=>i],83782);var r=e.i(50526);let i=a.forwardRef((e,a)=>{let{className:s,type:n,...i}=e;return(0,t.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...i})});i.displayName="Input",e.i(94318);var l=e.i(33863),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let n=(0,l.createSlot)("Primitive.".concat(s)),r=a.forwardRef((e,a)=>{let{asChild:r,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?n:s,{...i,ref:a})});return r.displayName="Primitive.".concat(s),{...e,[s]:r}},{}),c=a.forwardRef((e,a)=>(0,t.jsx)(o.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));c.displayName="Label";let d=(0,e.i(62445).cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=a.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)(c,{ref:a,className:(0,r.cn)(d(),s),...n})});m.displayName=c.displayName,e.s(["Card",()=>u,"CardContent",()=>f,"CardDescription",()=>x,"CardHeader",()=>h,"CardTitle",()=>p],16367);let u=a.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});u.displayName="Card";let h=a.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...n})});h.displayName="CardHeader";let p=a.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});p.displayName="CardTitle";let x=a.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",s),...n})});x.displayName="CardDescription";let f=a.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",s),...n})});f.displayName="CardContent",a.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter",e.s(["Loader2",()=>g],74542);let g=(0,e.i(88935).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var b=e.i(95604);function y(){let{login:e}=(0,s.useAuth)(),[r,l]=(0,a.useState)("app.glean.com"),[o,c]=(0,a.useState)(""),[d,h]=(0,a.useState)("manual"),[p,x]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!0),[j,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(0,b.checkExtensionAvailable)().then(t=>{N(t),t&&(0,b.getOAuthTokenFromExtension)().then(t=>{t.success&&t.token&&e({domain:t.domain||r.trim(),apiToken:t.token,authMethod:"oauth"})}).catch(()=>{})}).catch(()=>{})},[r,e]),(0,a.useEffect)(()=>{let t=window.location.hash,a=new URLSearchParams(window.location.search),s=new URLSearchParams(t.substring(1)).get("access_token")||a.get("token");s&&(e({domain:r.trim(),apiToken:s,authMethod:"oauth"}),window.history.replaceState({},document.title,window.location.pathname))},[r,e]);let C=async t=>{if(t.preventDefault(),x(""),y(!0),!r||!o){x("Please enter both domain and API token"),y(!1);return}try{let t={domain:r.trim(),apiToken:o.trim(),authMethod:d};e(t)}catch(e){x(e instanceof Error?e.message:"Failed to save authentication")}finally{y(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:[(0,t.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute top-1/4 -left-48 w-96 h-96 bg-accent/5 rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 -right-48 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),(0,t.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,t.jsxs)("header",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/10 rounded-lg mb-4",role:"img","aria-label":"Glean logo",children:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-primary","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),(0,t.jsx)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}),(0,t.jsx)("path",{d:"M12 6v6"}),(0,t.jsx)("path",{d:"M9 9h6"})]})}),(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-balance",children:"Welcome to Glean"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2 text-pretty",children:"Sign in to access your dashboard and insights"})]}),(0,t.jsxs)(u,{className:"p-6 border-border/50 bg-card/50 backdrop-blur-xl shadow-lg",children:[v?(0,t.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[j&&(0,t.jsxs)("button",{type:"button",onClick:()=>{w(!1),x(""),c("")},className:"flex items-center text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded","aria-label":"Back to sign in options",children:[(0,t.jsx)("svg",{className:"mr-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,t.jsx)("span",{children:"Back to sign in options"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m,{htmlFor:"domain",className:"text-sm font-medium",children:"Glean Domain"}),(0,t.jsx)(i,{id:"domain",type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"app.glean.com",disabled:f,className:"h-11 bg-background border-border/50",required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-pretty",children:"Your Glean instance domain (e.g., app.glean.com or yourcompany.glean.com)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m,{htmlFor:"token",className:"text-sm font-medium",children:"API Token"}),(0,t.jsx)(i,{id:"token",type:"password",placeholder:"glean_••••••••••••••••",value:o,onChange:e=>{c(e.target.value),x("")},disabled:f,className:"h-11 bg-background border-border/50",autoFocus:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-pretty",children:"Enter your API token to authenticate with Glean"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m,{className:"text-sm font-medium",children:"Authentication Method"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"authMethod",value:"manual",checked:"manual"===d,onChange:()=>h("manual"),className:"mr-2 accent-primary"}),(0,t.jsx)("span",{className:"text-sm",children:"Manual Token (Glean-issued)"})]}),(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"authMethod",value:"oauth",checked:"oauth"===d,onChange:()=>h("oauth"),className:"mr-2 accent-primary"}),(0,t.jsx)("span",{className:"text-sm",children:"OAuth Token"})]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-pretty",children:"Select OAuth if your token was obtained via OAuth flow"})]}),(0,t.jsx)(n.Button,{type:"submit",disabled:f||!o.trim(),className:"w-full h-11 text-base font-medium",size:"lg","aria-label":f?"Verifying credentials":"Continue with API token",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),(0,t.jsx)("span",{children:"Verifying..."})]}):(0,t.jsx)("span",{children:"Continue"})})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.Button,{onClick:()=>{y(!0),x("");try{let t=r.trim().replace(/^https?:\/\//,"").replace(/\/$/,"");t.includes("-be.glean.com")||"app.glean.com"===t||t.startsWith("app.")||t.endsWith(".glean.com")&&t.replace(".glean.com","");let a=t.includes("-be.")?t.replace("-be.glean.com",".glean.com"):t,s="".concat(window.location.origin,"/auth/callback"),n="https://".concat(a,"/oauth/authorize?")+"redirect_uri=".concat(encodeURIComponent(s),"&")+"scope=".concat(encodeURIComponent("collections:read drafts:read users:read groups:read integrations:read"),"&")+"response_type=code";sessionStorage.setItem("oauth_domain",t),console.log("Opening OAuth flow in popup:",n);let i=window.open(n,"glean-oauth","width=600,height=700,scrollbars=yes,resizable=yes");if(!i){x("Popup blocked. Please allow popups for this site and try again."),y(!1);return}let l=!1,o=async a=>{if(a.origin!==window.location.origin)return void console.warn("Ignored message from unauthorized origin:",a.origin);if("GLEAN_OAUTH_SUCCESS"===a.data.type){l=!0,window.removeEventListener("message",o),null==i||i.close();let{token:s,domain:n}=a.data;e({domain:n||t,apiToken:s,authMethod:"oauth"}),y(!1)}else"GLEAN_OAUTH_ERROR"===a.data.type&&(l=!0,window.removeEventListener("message",o),null==i||i.close(),x(a.data.error||"OAuth authentication failed"),y(!1))};window.addEventListener("message",o);let c=setInterval(()=>{(null==i?void 0:i.closed)&&!l&&(clearInterval(c),window.removeEventListener("message",o),x("OAuth flow was cancelled"),y(!1))},1e3)}catch(e){x(e instanceof Error?e.message:"Failed to initiate OAuth flow"),y(!1)}},disabled:f||k,className:"w-full h-11 text-base font-medium",size:"lg","aria-label":k?"Checking extension":f?"Connecting":j?"Sign in with Extension OAuth":"Continue with OAuth",children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),(0,t.jsx)("span",{children:"Checking extension..."})]}):f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),(0,t.jsx)("span",{children:"Connecting..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),(0,t.jsx)("span",{children:j?"Sign in with Extension OAuth":"Continue with OAuth"})]})}),j&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Using OAuth token from Glean Web Clipper extension"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-border"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>w(!0),className:"w-full h-11 text-base font-medium border-border/50",size:"lg",children:"Sign in with API token"})]}),p&&(0,t.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20",role:"alert","aria-live":"assertive",children:(0,t.jsx)("p",{className:"text-sm text-destructive text-pretty",children:p})})]}),(0,t.jsxs)("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[(0,t.jsxs)("p",{className:"text-pretty",children:["Don't have an account?"," ",(0,t.jsx)("a",{href:"#",className:"text-foreground hover:underline font-medium",children:"Contact your administrator"})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-4",children:[(0,t.jsx)("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Privacy"}),(0,t.jsx)("span",{className:"text-border",children:"·"}),(0,t.jsx)("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Terms"}),(0,t.jsx)("span",{className:"text-border",children:"·"}),(0,t.jsx)("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Help"})]})]})]})]})}},97188,e=>{"use strict";e.s(["BookOpen",()=>t],97188);let t=(0,e.i(88935).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},62515,e=>{"use strict";e.s(["Home",()=>t],62515);let t=(0,e.i(88935).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},3086,e=>{"use strict";e.s(["ArrowLeft",()=>t],3086);let t=(0,e.i(88935).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9918,e=>{"use strict";e.s(["default",()=>p],9918);var t=e.i(35197),a=e.i(58213),s=e.i(32192),n=e.i(1237),r=e.i(85248),i=e.i(76828),l=e.i(71253),o=e.i(88935);let c=(0,o.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),d=(0,o.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var m=e.i(97188),u=e.i(62515),h=e.i(3086);function p(){let{isAuth:e,config:o,logout:p,isLoading:x}=(0,s.useAuth)(),[f,g]=(0,a.useState)([]),[b,y]=(0,a.useState)([]),[v,w]=(0,a.useState)(!0),[j,N]=(0,a.useState)(""),[k,S]=(0,a.useState)("all");return((0,a.useEffect)(()=>{!async function(){if(!x&&e){w(!0);try{let e=(await (0,r.fetchClips)()).sort((e,t)=>{let a=e.timestamp||new Date(e.date).getTime();return(t.timestamp||new Date(t.date).getTime())-a});g(e),y(e)}catch(e){console.error("Failed to load clips:",e),g([]),y([])}finally{w(!1)}}}()},[x,e]),(0,a.useEffect)(()=>{let e=f;if("synced"===k?e=e.filter(e=>"synced"===e.syncStatus):"local"===k&&(e=e.filter(e=>"synced"!==e.syncStatus)),j){let t=j.toLowerCase();e=e.filter(e=>{var a,s,n;return e.title.toLowerCase().includes(t)||(null==(a=e.selectedText)?void 0:a.toLowerCase().includes(t))||(null==(s=e.domain)?void 0:s.toLowerCase().includes(t))||(null==(n=e.source)?void 0:n.toLowerCase().includes(t))})}y(e)},[f,j,k]),x)?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-zinc-700 border-t-blue-500 rounded-full animate-spin"})}):e?(0,t.jsx)("div",{className:"min-h-screen bg-zinc-950 text-zinc-100",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("a",{href:"../",className:"p-2 rounded-lg bg-zinc-900 hover:bg-zinc-800 transition-colors",children:(0,t.jsx)(h.ArrowLeft,{className:"w-5 h-5 text-zinc-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[(0,t.jsx)(m.BookOpen,{className:"w-6 h-6 text-blue-500"}),"Library"]}),(0,t.jsxs)("p",{className:"text-zinc-400 text-sm",children:[f.length," clips saved"]})]})]}),(0,t.jsxs)("a",{href:"../",className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-zinc-900 hover:bg-zinc-800 transition-colors text-sm",children:[(0,t.jsx)(u.Home,{className:"w-4 h-4"}),"Dashboard"]})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),(0,t.jsx)("input",{type:"text",placeholder:"Search your clips...",value:j,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-zinc-100 placeholder-zinc-500"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>S("all"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("all"===k?"bg-blue-600 text-white":"bg-zinc-900 text-zinc-400 hover:bg-zinc-800"),children:"All"}),(0,t.jsx)("button",{onClick:()=>S("synced"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("synced"===k?"bg-blue-600 text-white":"bg-zinc-900 text-zinc-400 hover:bg-zinc-800"),children:"Synced"}),(0,t.jsx)("button",{onClick:()=>S("local"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("local"===k?"bg-blue-600 text-white":"bg-zinc-900 text-zinc-400 hover:bg-zinc-800"),children:"Local Only"})]})]}),v?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-zinc-700 border-t-blue-500 rounded-full animate-spin"})}):0===b.length?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)(m.BookOpen,{className:"w-12 h-12 text-zinc-700 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-zinc-400",children:j||"all"!==k?"No clips match your search":"No clips yet. Start clipping content to build your library."})]}):(0,t.jsx)("div",{className:"grid gap-4",children:b.map(e=>(0,t.jsx)("div",{className:"p-4 bg-zinc-900 border border-zinc-800 rounded-lg hover:border-zinc-700 transition-colors",children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-medium text-zinc-100 hover:text-blue-400 transition-colors flex items-center gap-2",children:[e.title,(0,t.jsx)(l.ExternalLink,{className:"w-4 h-4 flex-shrink-0"})]}),e.selectedText&&(0,t.jsx)("p",{className:"text-zinc-400 text-sm mt-2 line-clamp-2",children:e.selectedText}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-zinc-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-3 h-3"}),new Date(e.timestamp||new Date(e.date).getTime()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),e.domain&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-3 h-3"}),e.domain]}),"synced"===e.syncStatus&&(0,t.jsx)("span",{className:"text-green-500",children:"Synced"})]})]})})},e.id))})]})}):(0,t.jsx)(n.default,{})}}]);