(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36382,e=>{"use strict";e.s(["default",()=>en],36382);var t=e.i(35197),s=e.i(32192),a=e.i(1237),n=e.i(58213),i=e.i(32831),l=e.i(88935);let c=(0,l.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var r=e.i(50261),d=e.i(50526),o=e.i(83959);function x(e){let{isOpen:s,onToggle:a,side:n,width:i="w-72",children:l,className:x}=e,h="left"===n;return(0,t.jsxs)("div",{className:"relative flex",children:[(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col bg-zinc-50 dark:bg-zinc-950 transition-all duration-200 ease-in-out overflow-hidden",h?"border-r":"border-l","border-zinc-200 dark:border-zinc-800",s?i:"w-0",s?"opacity-100":"opacity-0",x),children:(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col h-full",s?"visible":"invisible"),children:l})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:a,className:(0,d.cn)("absolute top-1/2 -translate-y-1/2 z-10","h-6 w-6 rounded-full","bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700","border border-zinc-200 dark:border-zinc-700","shadow-sm",h?s?"-right-3":"left-0 ml-1":s?"-left-3":"right-0 mr-1"),"aria-label":s?"Collapse ".concat(n," sidebar"):"Expand ".concat(n," sidebar"),children:h?s?(0,t.jsx)(c,{className:"h-3 w-3"}):(0,t.jsx)(r.ChevronRight,{className:"h-3 w-3"}):s?(0,t.jsx)(r.ChevronRight,{className:"h-3 w-3"}):(0,t.jsx)(c,{className:"h-3 w-3"})})]})}let h=(0,l.default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var m=e.i(64887),u=e.i(76828),p=e.i(93619),b=e.i(74542),g=e.i(70767);let f=(0,l.default)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),z=(0,l.default)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),k=(0,l.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),j=(0,l.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),v=(0,l.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);var N=e.i(43387);function y(){let{theme:e,resolvedTheme:s,setTheme:a}=(0,N.useTheme)();return(0,t.jsxs)("button",{onClick:()=>{"dark"===e?a("light"):"light"===e?a("system"):a("dark")},className:(0,d.cn)("relative flex items-center gap-2 px-3 py-1.5 rounded-full","bg-zinc-100 dark:bg-zinc-800","border border-zinc-200 dark:border-zinc-700","text-zinc-700 dark:text-zinc-300","hover:bg-zinc-200 dark:hover:bg-zinc-700","transition-all duration-200 ease-in-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","focus-visible:ring-offset-zinc-50 dark:focus-visible:ring-offset-zinc-950"),"aria-label":"Switch to ".concat("dark"===e?"light":"light"===e?"system":"dark"," theme"),title:"Current: ".concat("system"===e?"System (".concat(s,")"):e),children:[(0,t.jsx)(j,{className:(0,d.cn)("h-4 w-4 transition-all duration-200","light"===s?"opacity-100 scale-100":"opacity-40 scale-90")}),(0,t.jsx)(v,{className:(0,d.cn)("h-4 w-4 transition-all duration-200","dark"===s?"opacity-100 scale-100":"opacity-40 scale-90")})]})}let w=null,C=0;async function S(){if(w&&Date.now()-C<3e5)return w;try{var e;if("undefined"!=typeof chrome&&(null==(e=chrome.runtime)?void 0:e.sendMessage)){let e=await new Promise(e=>{chrome.runtime.sendMessage({action:"fetchCollections"},e)});if((null==e?void 0:e.success)&&(null==e?void 0:e.collections)){let t=e.collections.map(e=>{var t;return{id:e.id||e.collectionId,name:e.name||e.title||"Untitled Collection",description:e.description,itemCount:e.itemCount||(null==(t=e.items)?void 0:t.length)||0,permissions:e.permissions}});return w=t,C=Date.now(),t}}}catch(e){console.error("Failed to fetch collections from extension:",e)}return[{id:"col-1",name:"AI Resources",description:"Articles and documentation about AI",itemCount:12,permissions:{write:!0}},{id:"col-2",name:"Dev Docs",description:"Developer documentation and tutorials",itemCount:8,permissions:{write:!0}},{id:"col-3",name:"CSS",description:"CSS styling references",itemCount:5,permissions:{write:!0}},{id:"col-4",name:"Extension Dev",description:"Chrome extension development resources",itemCount:3,permissions:{write:!0}}]}var M=e.i(76443);let B=(0,l.default)("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),T=(0,l.default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),A=(0,l.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),E=(0,l.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var L=e.i(71253);function F(e){let{isOpen:s,onClose:a}=e,[i,l]=(0,n.useState)(null),[c,r]=(0,n.useState)(""),[d,o]=(0,n.useState)(""),[x,h]=(0,n.useState)(""),[m,u]=(0,n.useState)("");(0,n.useEffect)(()=>{u(navigator.userAgent)},[]),(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s,a]),(0,n.useEffect)(()=>{s||(l(null),r(""),o(""),h(""))},[s]);let p=[{id:"bug",label:"Bug Report",icon:B,color:"text-red-500 dark:text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/20",hoverBg:"hover:bg-red-500/20"},{id:"feature",label:"Feature Request",icon:T,color:"text-yellow-500 dark:text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/20",hoverBg:"hover:bg-yellow-500/20"},{id:"question",label:"Question",icon:A,color:"text-blue-500 dark:text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",hoverBg:"hover:bg-blue-500/20"},{id:"other",label:"Other",icon:E,color:"text-zinc-500 dark:text-zinc-400",bgColor:"bg-zinc-500/10",borderColor:"border-zinc-500/20",hoverBg:"hover:bg-zinc-500/20"}];return s?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:a}),(0,t.jsxs)("div",{className:"relative w-full max-w-2xl bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Send Feedback"}),(0,t.jsx)("button",{onClick:a,className:"rounded-lg p-1.5 text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:(0,t.jsx)(M.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"px-6 py-5 space-y-5 max-h-[70vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"What type of feedback do you have?"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:p.map(e=>{let s=e.icon,a=i===e.id;return(0,t.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center gap-3 px-4 py-3 rounded-lg border transition-all ".concat(a?"".concat(e.bgColor," ").concat(e.borderColor," ring-2 ring-offset-2 ring-offset-white dark:ring-offset-zinc-950 ring-blue-500"):"border-zinc-200 dark:border-zinc-800 ".concat(e.hoverBg)),children:[(0,t.jsx)(s,{className:"w-5 h-5 ".concat(a?e.color:"text-zinc-400 dark:text-zinc-500")}),(0,t.jsx)("span",{className:"text-sm font-medium ".concat(a?"text-zinc-900 dark:text-zinc-100":"text-zinc-600 dark:text-zinc-400"),children:e.label})]},e.id)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{htmlFor:"title",className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:["Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{id:"title",type:"text",value:c,onChange:e=>r(e.target.value),placeholder:"Brief summary of your feedback",className:"w-full px-3 py-2 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg text-zinc-900 dark:text-zinc-100 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{htmlFor:"description",className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:["Description ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("textarea",{id:"description",value:d,onChange:e=>o(e.target.value),placeholder:"Provide more details about your feedback...",rows:4,className:"w-full px-3 py-2 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg text-zinc-900 dark:text-zinc-100 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})]}),"bug"===i&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"steps",className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Steps to Reproduce"}),(0,t.jsx)("textarea",{id:"steps",value:x,onChange:e=>h(e.target.value),placeholder:"1. Go to...\n2. Click on...\n3. See error...",rows:4,className:"w-full px-3 py-2 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg text-zinc-900 dark:text-zinc-100 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 px-3 py-2.5 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg",children:[(0,t.jsx)(A,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-300",children:'Clicking "Open GitHub" will open a new tab with your feedback pre-filled in a GitHub issue. You\'ll need a GitHub account to submit.'})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{if(!i||!c.trim()||!d.trim())return;let e="## Description\n".concat(d,"\n\n");"bug"===i&&x.trim()&&(e+="## Steps to Reproduce\n".concat(x,"\n\n")),e+="## Environment\n",e+="- **Browser:** ".concat(m,"\n"),e+="- **Extension Version:** Glippy v1.0.0\n",e+="\n---\n*Submitted via Glippy Feedback Modal*";let t=new URLSearchParams({title:"".concat({bug:"[Bug]",feature:"[Feature]",question:"[Question]",other:"[Feedback]"}[i]," ").concat(c),body:e,labels:{bug:"bug",feature:"enhancement",question:"question",other:"feedback"}[i]}),s="https://github.com/".concat("jessemcnew/glippy-glean-web-clipper","/issues/new?").concat(t.toString());window.open(s,"_blank"),a()},disabled:!i||!c.trim()||!d.trim(),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-zinc-300 dark:disabled:bg-zinc-800 disabled:text-zinc-500 disabled:cursor-not-allowed rounded-lg transition-colors",children:[(0,t.jsx)(L.ExternalLink,{className:"w-4 h-4"}),"Open GitHub"]})]})]})]}):null}let H=[{id:"1",name:"Summarize",category:"analysis"},{id:"2",name:"Extract Key Points",category:"analysis"},{id:"3",name:"Create Action Items",category:"productivity"}];function P(e){let{selectedCollectionId:s,onSelectCollection:a,totalClipsCount:i}=e,[l,c]=(0,n.useState)([]),[r,x]=(0,n.useState)(!0),[j]=(0,n.useState)(H),[v,N]=(0,n.useState)("checking"),[w,C]=(0,n.useState)(!1);(0,n.useEffect)(()=>{B(),M()},[]);let M=async()=>{N("checking");try{var e;if("undefined"!=typeof chrome&&(null==(e=chrome.storage)?void 0:e.local)){let e=(await chrome.storage.local.get(["gleanConfig"])).gleanConfig||{},t=!!(e.apiToken||e.clientToken);e.enabled&&e.domain&&t?N("connected"):N("disconnected")}else N("disconnected")}catch(e){console.error("Failed to check connection status:",e),N("disconnected")}},B=async()=>{x(!0);try{let e=await S();c(e)}catch(e){console.error("Failed to load collections:",e)}finally{x(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col h-full w-72",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Glippy"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Personal Knowledge Manager"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2",children:"My Collections"}),r?(0,t.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,t.jsx)(b.Loader2,{className:"h-4 w-4 animate-spin text-zinc-400"})}):(0,t.jsxs)("nav",{className:"space-y-1",children:[(0,t.jsxs)("button",{onClick:()=>a(null),className:(0,d.cn)("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors",null===s?"bg-zinc-200 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50"),children:[(0,t.jsx)(h,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"flex-1 text-left",children:"All Clips"}),(0,t.jsx)("span",{className:"text-xs text-zinc-400",children:i})]}),l.map(e=>(0,t.jsxs)("button",{onClick:()=>a(String(e.id)),className:(0,d.cn)("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors",s===String(e.id)?"bg-zinc-200 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50"),children:[(0,t.jsx)(h,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"flex-1 text-left truncate",children:e.name}),void 0!==e.itemCount&&(0,t.jsx)("span",{className:"text-xs text-zinc-400",children:e.itemCount})]},e.id))]})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h2",{className:"text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Prompts"}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",children:(0,t.jsx)(g.Plus,{className:"h-3 w-3"})})]}),(0,t.jsx)("nav",{className:"space-y-1",children:j.map(e=>(0,t.jsxs)("button",{className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)(m.FileText,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"flex-1 text-left truncate",children:e.name})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t border-zinc-200 dark:border-zinc-800 space-y-2",children:[(0,t.jsxs)("div",{className:(0,d.cn)("flex items-center gap-2 px-3 py-2 rounded-lg text-xs","connected"===v?"text-green-600 dark:text-green-400":"checking"===v?"text-zinc-400":"text-zinc-500 dark:text-zinc-400"),children:["connected"===v?(0,t.jsx)(f,{className:"h-3.5 w-3.5"}):"checking"===v?(0,t.jsx)(b.Loader2,{className:"h-3.5 w-3.5 animate-spin"}):(0,t.jsx)(z,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{children:"connected"===v?"Connected to Glean":"checking"===v?"Checking connection...":"Not connected"}),"connected"===v&&(0,t.jsx)("span",{className:"ml-auto h-2 w-2 rounded-full bg-green-500"})]}),(0,t.jsxs)("button",{className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800/50 transition-colors",children:[(0,t.jsx)(u.Search,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"flex-1 text-left",children:"Search"}),(0,t.jsx)("kbd",{className:"px-2 py-0.5 text-xs bg-zinc-100 dark:bg-zinc-800 rounded",children:"⌘K"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,t.jsx)(y,{}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:()=>C(!0),className:"inline-flex items-center justify-center h-8 w-8 rounded-md text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",title:"Send feedback",children:(0,t.jsx)(k,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,t.jsx)(p.Settings,{className:"h-4 w-4"})})]})]})]}),(0,t.jsx)(F,{isOpen:w,onClose:()=>C(!1)})]})}let q=(0,l.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var I=e.i(26837),R=e.i(16367);let D=[{id:"1",type:"clip_added",message:"New clip added",time:"2 minutes ago"},{id:"2",type:"collection_updated",message:"Collection updated",time:"1 hour ago"},{id:"3",type:"sync_completed",message:"Sync completed",time:"3 hours ago"}];function O(e){let{onNewClip:s,onImportData:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col h-full w-80 p-4 space-y-4",children:[(0,t.jsxs)(R.Card,{className:"border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)(R.CardHeader,{className:"pb-3",children:(0,t.jsx)(R.CardTitle,{className:"text-sm font-semibold",children:"Quick Actions"})}),(0,t.jsxs)(R.CardContent,{className:"space-y-2",children:[(0,t.jsxs)(o.Button,{variant:"outline",className:"w-full justify-start gap-2",onClick:s,children:[(0,t.jsx)(g.Plus,{className:"h-4 w-4"}),"New Clip"]}),(0,t.jsxs)(o.Button,{variant:"outline",className:"w-full justify-start gap-2",onClick:a,children:[(0,t.jsx)(q,{className:"h-4 w-4"}),"Import Data"]})]})]}),(0,t.jsxs)(R.Card,{className:"flex-1 border-zinc-200 dark:border-zinc-800",children:[(0,t.jsx)(R.CardHeader,{className:"pb-3",children:(0,t.jsx)(R.CardTitle,{className:"text-sm font-semibold",children:"Recent Activity"})}),(0,t.jsx)(R.CardContent,{children:(0,t.jsx)("ul",{className:"space-y-3",children:D.map(e=>(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"mt-1 h-2 w-2 rounded-full flex-shrink-0 ".concat("clip_added"===e.type?"bg-green-500":"collection_updated"===e.type?"bg-blue-500":"bg-amber-500")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:e.message}),(0,t.jsxs)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 flex items-center gap-1",children:[(0,t.jsx)(I.Clock,{className:"h-3 w-3"}),e.time]})]})]},e.id))})})]})]})}var G=e.i(83782);function _(e){let{clips:s,selectedClipId:a,onSelectClip:i,isLoading:l,collectionName:c}=e,[r,o]=(0,n.useState)(""),[x,h]=(0,n.useState)(s);return(0,n.useEffect)(()=>{if(!r.trim())return void h(s);let e=r.toLowerCase();h(s.filter(t=>[t.title,t.selectedText,t.domain,t.source,t.collectionName].filter(Boolean).join(" ").toLowerCase().includes(e)))},[r,s]),(0,t.jsxs)("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-zinc-950",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-zinc-200 dark:border-zinc-800",children:[(0,t.jsxs)("h2",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-3",children:[c||"All Clips",(0,t.jsxs)("span",{className:"ml-2 text-zinc-400 font-normal",children:["(",x.length,")"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),(0,t.jsx)(G.Input,{type:"search",placeholder:"Search clips...",value:r,onChange:e=>o(e.target.value),className:"pl-9 bg-zinc-100 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800"})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:l?(0,t.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,t.jsx)(b.Loader2,{className:"h-6 w-6 animate-spin text-zinc-400"})}):0===x.length?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center h-32 px-4 text-center",children:(0,t.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:r?"No clips match your search":"No clips yet"})}):(0,t.jsx)("div",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:x.map(e=>(0,t.jsxs)("button",{onClick:()=>i(e),className:(0,d.cn)("w-full text-left p-4 transition-colors",a===e.id?"bg-zinc-200 dark:bg-zinc-800":"hover:bg-zinc-100 dark:hover:bg-zinc-900"),children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 line-clamp-2 mb-1",children:e.title}),e.selectedText&&(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 line-clamp-2 mb-2",children:e.selectedText}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-zinc-400",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(I.Clock,{className:"h-3 w-3"}),e.date]}),e.domain&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{className:"flex items-center gap-1 truncate",children:[(0,t.jsx)(L.ExternalLink,{className:"h-3 w-3"}),e.domain]})]})]}),"synced"===e.syncStatus&&e.collectionName&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-500",children:[(0,t.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),e.collectionName]})})]},e.id))})})]})}var K=e.i(59074),U=e.i(66066),V=e.i(73623),Q=e.i(51806);let X=(0,l.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),W=(0,l.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Y=(0,l.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var J=e.i(72608),Z=e.i(36467);let $=(0,l.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ee={dark:{bg:"bg-zinc-950",text:"text-zinc-100",secondary:"text-zinc-400"},sepia:{bg:"bg-amber-50",text:"text-amber-950",secondary:"text-amber-700"},light:{bg:"bg-white",text:"text-zinc-900",secondary:"text-zinc-600"}};function et(e){let{clip:s,onClose:a,onNavigateNext:i,onNavigatePrevious:l,onDelete:c}=e,[r,x]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),[u,p]=(0,n.useState)("dark"),[b,f]=(0,n.useState)(16),[z,k]=(0,n.useState)(1.6),j=ee[u];return(0,t.jsxs)("div",{className:(0,d.cn)("flex flex-col h-full w-96",j.bg),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-zinc-200 dark:border-zinc-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>x(!r),title:"Star",children:(0,t.jsx)(K.Star,{className:(0,d.cn)("h-4 w-4",r&&"fill-yellow-500 text-yellow-500")})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{s.url&&window.open(s.url,"_blank")},title:"Open in browser",children:(0,t.jsx)(L.ExternalLink,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{s.url&&navigator.clipboard.writeText(s.url)},title:"Copy link",children:(0,t.jsx)(Q.Copy,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Archive",children:(0,t.jsx)(U.Archive,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{confirm("Are you sure you want to delete this clip?")&&(null==c||c(s.id))},title:"Delete",children:(0,t.jsx)(V.Trash2,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:l,disabled:!l,title:"Previous (k)",children:(0,t.jsx)(X,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:i,disabled:!i,title:"Next (j)",children:(0,t.jsx)(W,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:(0,d.cn)("h-8 w-8",h&&"bg-zinc-200 dark:bg-zinc-800"),onClick:()=>m(!h),title:"Reader settings",children:(0,t.jsx)(Y,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a,title:"Close",children:(0,t.jsx)(M.X,{className:"h-4 w-4"})})]})]}),h&&(0,t.jsxs)("div",{className:"p-4 border-b border-zinc-200 dark:border-zinc-800 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-zinc-500 mb-2 block",children:"Theme"}),(0,t.jsx)("div",{className:"flex gap-2",children:["dark","sepia","light"].map(e=>(0,t.jsx)("button",{onClick:()=>p(e),className:(0,d.cn)("px-3 py-1.5 text-xs rounded capitalize",u===e?"bg-zinc-700 text-white":"bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400"),children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-zinc-500",children:"Font Size"}),(0,t.jsxs)("span",{className:"text-xs text-zinc-400",children:[b,"px"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>f(Math.max(12,b-1)),children:(0,t.jsx)($,{className:"h-3 w-3"})}),(0,t.jsx)("div",{className:"flex-1 h-1.5 bg-zinc-200 dark:bg-zinc-800 rounded-full",children:(0,t.jsx)("div",{className:"h-full bg-zinc-500 rounded-full",style:{width:"".concat((b-12)/12*100,"%")}})}),(0,t.jsx)(o.Button,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>f(Math.min(24,b+1)),children:(0,t.jsx)(g.Plus,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-zinc-500",children:"Line Height"}),(0,t.jsx)("span",{className:"text-xs text-zinc-400",children:z.toFixed(1)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(Math.max(1.2,z-.1)),children:(0,t.jsx)(Z.AlignLeft,{className:"h-3 w-3"})}),(0,t.jsx)("div",{className:"flex-1 h-1.5 bg-zinc-200 dark:bg-zinc-800 rounded-full",children:(0,t.jsx)("div",{className:"h-full bg-zinc-500 rounded-full",style:{width:"".concat((z-1.2)/.8*100,"%")}})}),(0,t.jsx)(o.Button,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>k(Math.min(2,z+.1)),children:(0,t.jsx)(J.Type,{className:"h-3 w-3"})})]})]})]}),(0,t.jsxs)("div",{className:(0,d.cn)("flex-1 overflow-y-auto p-6",j.bg),children:[(0,t.jsxs)("header",{className:"mb-6",children:[(0,t.jsx)("h1",{className:(0,d.cn)("font-bold mb-3",j.text),style:{fontSize:1.4*b,lineHeight:1.3},children:s.title}),(0,t.jsxs)("div",{className:(0,d.cn)("flex items-center gap-3 text-sm",j.secondary),children:[s.domain&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(L.ExternalLink,{className:"h-3 w-3"}),s.domain]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(I.Clock,{className:"h-3 w-3"}),s.date]})]}),s.collectionName&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-500 bg-green-100 dark:bg-green-900/30 px-2 py-0.5 rounded",children:s.collectionName})})]}),(0,t.jsx)("div",{className:(0,d.cn)("prose prose-sm max-w-none",j.text),style:{fontSize:b,lineHeight:z},children:s.selectedText?(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:s.selectedText}):(0,t.jsxs)("p",{className:j.secondary,children:["No text content available."," ",s.url&&(0,t.jsx)("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Open original page"})]})})]})]})}var es=e.i(85248);function ea(e){var s,a;let{onLogout:l}=e,{leftSidebarOpen:c,rightSidebarOpen:r,toggleLeftSidebar:d,toggleRightSidebar:o}=(0,i.useSidebar)(),[h,m]=(0,n.useState)(null),[u,p]=(0,n.useState)([]),[b,g]=(0,n.useState)(!0),[f,z]=(0,n.useState)(null);(0,n.useEffect)(()=>{k()},[]);let k=async()=>{g(!0);try{let e=await (0,es.fetchClips)();p(e)}catch(e){console.error("Failed to load clips:",e),p([])}finally{g(!1)}},j=h?u.filter(e=>e.collectionId===h||e.collectionName===h):u,v=h?(null==(s=u.find(e=>e.collectionId===h||e.collectionName===h))?void 0:s.collectionName)||h:void 0,N=async e=>{await (0,es.deleteClip)(e)&&(await k(),(null==f?void 0:f.id)===e&&z(null))};return(0,t.jsxs)("div",{className:"flex h-screen bg-zinc-50 dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100",children:[(0,t.jsx)(x,{isOpen:c,onToggle:d,side:"left",width:"w-72",children:(0,t.jsx)(P,{selectedCollectionId:h,onSelectCollection:m,totalClipsCount:u.length})}),(0,t.jsx)("div",{className:"flex-1 flex flex-col min-w-0 border-x border-zinc-200 dark:border-zinc-800",children:(0,t.jsx)(_,{clips:j,selectedClipId:null!=(a=null==f?void 0:f.id)?a:null,onSelectClip:e=>{z(e)},isLoading:b,collectionName:v})}),(0,t.jsx)(x,{isOpen:r,onToggle:o,side:"right",width:f?"w-96":"w-80",children:f?(0,t.jsx)(et,{clip:f,onClose:()=>{z(null)},onNavigateNext:()=>{if(!f)return;let e=j.findIndex(e=>e.id===f.id);e<j.length-1&&z(j[e+1])},onNavigatePrevious:()=>{if(!f)return;let e=j.findIndex(e=>e.id===f.id);e>0&&z(j[e-1])},onDelete:N}):(0,t.jsx)(O,{})})]})}function en(){let{isAuth:e,config:n,logout:i,isLoading:l}=(0,s.useAuth)();return l?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-muted border-t-primary rounded-full animate-spin"})}):e&&n?(0,t.jsx)(ea,{onLogout:i}):(0,t.jsx)(a.default,{})}}]);