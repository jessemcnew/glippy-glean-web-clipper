(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32192,95604,e=>{"use strict";e.s(["AuthProvider",()=>d,"useAuth",()=>m],32192);var t=e.i(35197),r=e.i(58213);let o="glean_auth_config";function n(e){localStorage.setItem(o,JSON.stringify(e))}function i(){try{let e=localStorage.getItem(o);if(!e)return null;return JSON.parse(e)}catch(e){return console.error("Failed to parse auth config:",e),null}}function a(){return"chrome-extension:"===window.location.protocol}function s(){var e;if(a()&&"undefined"!=typeof chrome&&(null==(e=chrome.runtime)?void 0:e.id))return chrome.runtime.id;let t=localStorage.getItem("glean_extension_id");if(t)return t}async function l(){if("undefined"==typeof chrome||!chrome.runtime)return{success:!1,error:"Chrome extension API not available"};try{let e=chrome.runtime,t=a(),r=s();if(!t&&!r)return{success:!1,error:"Extension ID not available",requiresSetup:!0};return new Promise(o=>{let n={action:"getOAuthToken"},i=setTimeout(()=>{o({success:!1,error:"Extension communication timeout",requiresSetup:!1})},5e3),a=t=>{if(clearTimeout(i),e.lastError){var r,n;o({success:!1,error:e.lastError.message||"Extension communication error",requiresSetup:(null==(r=e.lastError.message)?void 0:r.includes("not found"))||(null==(n=e.lastError.message)?void 0:n.includes("Could not establish"))});return}t&&t.success?o({success:!0,token:t.token,domain:t.domain,authMethod:t.authMethod||"manual"}):o({success:!1,error:(null==t?void 0:t.error)||"Failed to get token from extension",requiresSetup:null==t?void 0:t.requiresSetup})};t?e.sendMessage(n,a):e.sendMessage(r,n,a)})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function c(){var e,t;if(a())return"undefined"!=typeof chrome&&null!=(t=chrome.runtime)&&!!t.sendMessage;if("undefined"==typeof chrome||!(null==(e=chrome.runtime)?void 0:e.sendMessage))return!1;let r=s();if(!r)return!1;try{let e=chrome.runtime;return new Promise(t=>{let o=setTimeout(()=>t(!1),1e3);e.sendMessage(r,{type:"PING"},r=>{if(clearTimeout(o),e.lastError)return void t(!1);t((null==r?void 0:r.ok)===!0)})})}catch(e){return!1}}e.s(["checkExtensionAvailable",()=>c,"getOAuthTokenFromExtension",()=>l,"isRunningInExtension",()=>a],95604);let u=(0,r.createContext)(void 0);function d(e){let{children:s}=e,[d,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{!async function(){let e=i();if(e&&e.apiToken&&e.domain){m(e),f(!0),v(!1);return}if(a())try{if(await c()){let e=await l();if(e.success&&e.token&&e.domain){let t={apiToken:e.token,domain:e.domain,authMethod:e.authMethod||"manual"};n(t),m(t),f(!0),v(!1);return}}}catch(e){console.error("Failed to get auth from extension:",e)}v(!1)}()},[]),(0,t.jsx)(u.Provider,{value:{config:d,isAuth:h,isLoading:g,login:e=>{n(e),m(e),f(!0)},logout:()=>{localStorage.removeItem(o),m(null),f(!1)},updateConfig:e=>{if(!d)return;let t={...d,...e};n(t),m(t),f(function(){let e=i();return!!((null==e?void 0:e.apiToken)&&(null==e?void 0:e.domain))}())}},children:s})}function m(){let e=(0,r.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},88935,e=>{"use strict";e.s(["default",()=>a],88935);var t=e.i(58213);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,r)=>{let{color:i="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d,...m}=e;return(0,t.createElement)("svg",{ref:r,...n,width:a,height:a,stroke:i,strokeWidth:l?24*Number(s)/Number(a):s,className:o("lucide",c),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[r,o]=e;return(0,t.createElement)(r,o)}),...Array.isArray(u)?u:[u]])}),a=(e,n)=>{let a=(0,t.forwardRef)((a,s)=>{let{className:l,...c}=a;return(0,t.createElement)(i,{ref:s,iconNode:n,className:o("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...c})});return a.displayName=r(e),a}},76443,e=>{"use strict";e.s(["X",()=>t],76443);let t=(0,e.i(88935).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},43387,e=>{"use strict";e.s(["ThemeProvider",()=>i,"useTheme",()=>a]);var t=e.i(35197),r=e.i(58213);let o=(0,r.createContext)(void 0),n="glean-dashboard-theme";function i(e){let{children:i}=e,[a,s]=(0,r.useState)("dark"),[l,c]=(0,r.useState)("dark"),[u,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem(n);s(e&&["light","dark","system"].includes(e)?e:"dark"),d(!0)},[]),(0,r.useEffect)(()=>{if(!u)return;let e=()=>{let e="system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;c(e),m(e)};if(e(),"system"===a){let t=window.matchMedia("(prefers-color-scheme: dark)"),r=()=>e();return t.addEventListener("change",r),()=>t.removeEventListener("change",r)}},[a,u]);let m=e=>{let t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark")};return u?(0,t.jsx)(o.Provider,{value:{theme:a,resolvedTheme:l,setTheme:e=>{s(e),localStorage.setItem(n,e)}},children:i}):(0,t.jsx)(t.Fragment,{children:i})}function a(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},65903,e=>{"use strict";e.s(["ToastProvider",()=>g,"useToast",()=>v],65903);var t=e.i(35197),r=e.i(58213),o=e.i(88935);let n=(0,o.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),i=(0,o.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),a=(0,o.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),s=(0,o.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var l=e.i(76443),c=e.i(83959),u=e.i(50526);let d={success:{icon:n,borderColor:"border-green-500",iconColor:"text-green-500"},error:{icon:i,borderColor:"border-red-500",iconColor:"text-red-500"},warning:{icon:a,borderColor:"border-amber-500",iconColor:"text-amber-500"},info:{icon:s,borderColor:"border-blue-500",iconColor:"text-blue-500"}};function m(e){let{toast:o,onRemove:n}=e,[i,a]=(0,r.useState)(!1),s=d[o.variant],m=s.icon;return(0,t.jsxs)("div",{className:(0,u.cn)("pointer-events-auto","bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-lg","border-l-4 ".concat(s.borderColor),"p-4 pr-8 relative","transition-all duration-300 ease-in-out",i?"opacity-0 translate-x-full":"opacity-100 translate-x-0"),style:{animation:i?void 0:"slideInRight 0.3s ease-out"},children:[(0,t.jsx)("button",{onClick:()=>{a(!0),setTimeout(()=>{n(o.id)},300)},className:"absolute top-3 right-3 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors","aria-label":"Close toast",children:(0,t.jsx)(l.X,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(m,{className:(0,u.cn)("w-5 h-5",s.iconColor,"flex-shrink-0 mt-0.5")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 leading-tight",children:o.title}),o.description&&(0,t.jsx)("p",{className:"text-sm text-zinc-700 dark:text-zinc-400 mt-1 leading-snug",children:o.description}),o.action&&(0,t.jsx)(c.Button,{size:"sm",variant:"outline",onClick:o.action.onClick,className:"mt-3 h-8 text-xs border-zinc-300 dark:border-zinc-700 hover:bg-zinc-200 dark:hover:bg-zinc-800 text-zinc-900 dark:text-zinc-100 bg-transparent",children:o.action.label})]})]})]})}function h(e){let{toasts:r,onRemove:o}=e;return(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 w-full max-w-sm pointer-events-none",children:r.map(e=>(0,t.jsx)(m,{toast:e,onRemove:o},e.id))})}let f=(0,r.createContext)(void 0);function g(e){let{children:o}=e,[n,i]=(0,r.useState)([]),a=(0,r.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),s=(0,r.useCallback)(e=>{var t;let r=Math.random().toString(36).substring(2,9),o={id:r,title:e.title,description:e.description,variant:e.variant||"info",duration:null!=(t=e.duration)?t:5e3,action:e.action};i(e=>[...e,o]),o.duration&&o.duration>0&&setTimeout(()=>{a(r)},o.duration)},[a]);return(0,t.jsxs)(f.Provider,{value:{toasts:n,addToast:s,removeToast:a},children:[o,(0,t.jsx)(h,{toasts:n,onRemove:a})]})}function v(){let e=(0,r.useContext)(f);if(!e)throw Error("useToast must be used within a ToastProvider");return e}}]);